# ============================================================================
# Canvas App Backend - Environment Variables
# ============================================================================
# Copy this file to .env and fill in your values
# DO NOT commit .env to version control!
# ============================================================================

# ----------------------------------------------------------------------------
# Database Configuration
# ----------------------------------------------------------------------------

# PostgreSQL connection string (async)
# Format: postgresql+asyncpg://user:password@host:port/database
DATABASE_URL=postgresql+asyncpg://postgres:postgres@localhost:5432/canvasapp

# Supabase Database URL (if using Supabase)
# SUPABASE_DB_URL=postgresql+asyncpg://postgres:password@db.project.supabase.co:5432/postgres

# Database pool settings
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=0
DB_POOL_PRE_PING=true
DB_ECHO=false

# ----------------------------------------------------------------------------
# Supabase Configuration
# ----------------------------------------------------------------------------

# Supabase project URL
SUPABASE_URL=https://your-project.supabase.co

# Supabase anonymous key (public)
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# Supabase service role key (private - server-side only)
SUPABASE_SERVICE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# ----------------------------------------------------------------------------
# Application Settings
# ----------------------------------------------------------------------------

# Application name
APP_NAME=Canvas App API

# Application version
APP_VERSION=1.0.0

# Environment (development, staging, production)
ENVIRONMENT=development

# Debug mode (true for development, false for production)
DEBUG=true

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Server host and port
HOST=0.0.0.0
PORT=8000

# ----------------------------------------------------------------------------
# CORS Configuration
# ----------------------------------------------------------------------------

# Allowed origins (comma-separated)
# Development: http://localhost:5173,http://localhost:3000
# Production: https://yourdomain.com
CORS_ORIGINS=http://localhost:5173,http://localhost:3000

# Allow credentials
CORS_ALLOW_CREDENTIALS=true

# Allowed methods
CORS_ALLOW_METHODS=GET,POST,PUT,PATCH,DELETE,OPTIONS

# Allowed headers
CORS_ALLOW_HEADERS=*

# ----------------------------------------------------------------------------
# Security
# ----------------------------------------------------------------------------

# Secret key for JWT signing (generate with: openssl rand -hex 32)
SECRET_KEY=your-secret-key-here-change-in-production

# JWT algorithm
JWT_ALGORITHM=HS256

# Access token expiry (in seconds)
ACCESS_TOKEN_EXPIRE_MINUTES=60

# Refresh token expiry (in days)
REFRESH_TOKEN_EXPIRE_DAYS=7

# Password hashing rounds
BCRYPT_ROUNDS=12

# ----------------------------------------------------------------------------
# Rate Limiting (Optional)
# ----------------------------------------------------------------------------

# Enable rate limiting
RATE_LIMIT_ENABLED=true

# Requests per minute
RATE_LIMIT_PER_MINUTE=100

# ----------------------------------------------------------------------------
# File Upload (Optional)
# ----------------------------------------------------------------------------

# Max file upload size (in MB)
MAX_UPLOAD_SIZE_MB=10

# Allowed file types (comma-separated)
ALLOWED_FILE_TYPES=image/jpeg,image/png,application/pdf

# Upload directory
UPLOAD_DIR=./uploads

# ----------------------------------------------------------------------------
# Caching (Optional - Redis)
# ----------------------------------------------------------------------------

# Redis URL (if using Redis for caching)
# REDIS_URL=redis://localhost:6379/0

# Cache TTL (in seconds)
# CACHE_TTL=3600

# ----------------------------------------------------------------------------
# External Services (Optional)
# ----------------------------------------------------------------------------

# Email service (e.g., SendGrid)
# SENDGRID_API_KEY=your-sendgrid-api-key

# Storage service (e.g., AWS S3)
# AWS_ACCESS_KEY_ID=your-access-key
# AWS_SECRET_ACCESS_KEY=your-secret-key
# AWS_S3_BUCKET=your-bucket-name
# AWS_REGION=us-east-1

# ----------------------------------------------------------------------------
# Monitoring (Optional)
# ----------------------------------------------------------------------------

# Sentry DSN (for error tracking)
# SENTRY_DSN=https://...@sentry.io/...

# ----------------------------------------------------------------------------
# Testing
# ----------------------------------------------------------------------------

# Test database URL
TEST_DATABASE_URL=postgresql+asyncpg://postgres:postgres@localhost:5432/canvasapp_test

# ----------------------------------------------------------------------------
# Development Tools
# ----------------------------------------------------------------------------

# Enable FastAPI auto-reload
RELOAD=true

# Enable OpenAPI docs
ENABLE_DOCS=true

# OpenAPI docs URL
DOCS_URL=/docs

# ReDoc URL
REDOC_URL=/redoc
